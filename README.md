# Поиск ближайших кофеен на карте

Программа для поиска 5 ближайших кофеен к указанному местоположению с визуализацией на интерактивной карте.

## Проект состоит из:
1. `main.py` — основной скрипт программы
2. `coffee.json` — база данных кофеен

## Функциональность
- **Геокодирование адреса:** Преобразование текстового адреса в географические координаты через Yandex Geocoder API
- **Расчет расстояний:** Определение расстояний до всех кофеен из базы данных
- **Сортировка по близости:** Выбор 5 ближайших кофеен
- **Визуализация на карте:** Создание интерактивной карты с маркерами местоположения
- **Экспорт в HTML:** Генерация файла `index.html` с готовой картой

## Требования
- `Python 3.x`
- `requests` - для HTTP-запросов к API
- `python-dotenv` - для работы с переменными окружения
- `geopy` - для расчета расстояний между координатами
- `folium` - для создания интерактивных карт

## Установка и запуск
1.  Клонируйте репозиторий.
Репозиторий принадлежит не вам, поэтому стоит создать свою собственную копию репозитория. Это называется форком. [Как создать форк (вилку)](https://docs.github.com/ru/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo).

2. Создайте виртуальное окружение и активируйте его:

```bash
python -m venv venv

# Активируем
source venv/bin/activate    # Linux/MacOS
venv\Scripts\activate       # Windows
```

3.  Установите зависимости.

```bash
pip install -r requirements.txt
```

4. Проверьте установку

```bash
python --version  # Должна быть версия Python 3.10 или ниже
pip list          # Должны отобразиться зависимости из файла requirements.txt
```

5. Настройте API-ключ:

- Получите API-ключ Yandex Geocoder API в [кабинете разработчика](https://developer.tech.yandex.ru/)
- Создайте файл `.env` в корне проекта:

YANDEX_GEOCODER_API=ваш_api_ключ_здесь

Добавьте `.env` в `.gitignore`, чтобы не публиковать конфиденциальные данные.

6. Запустите программу:

```bash
python main.py
```

7. Введите ваш адрес или местоположение когда программа запросит.

<img width="699" height="102" alt="Снимок экрана 2025-09-24 161912" src="https://github.com/user-attachments/assets/79115ada-49b2-43c3-899a-4028a0d3ccdf" />


8. Откройте сгенерированный файл index.html в браузере для просмотра карты.

<img width="517" height="601" alt="Снимок экрана 2025-09-24 161950" src="https://github.com/user-attachments/assets/93cad444-a9dc-43bb-81e5-2c578a7e9bff" />


## Особенности реализации
- Используется Yandex Geocoder API для точного определения координат
- Расчет расстояний по формуле гаверсинусов (сферическая геометрия)
- Интерактивная карта с маркерами кофеен
- Обработка ошибок геокодирования
- Поддержка кириллических символов в адресах

## Пример использования
- Пользователь вводит: "Москва, ул. Тверская"
- Программа определяет координаты этого адреса
- Рассчитывает расстояния до всех кофеен из базы
- Выбирает 5 ближайших
- Создает карту с маркерами:
    - Красные маркеры — ближайшие кофейни

### Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
